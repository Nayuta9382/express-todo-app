<%- contentFor('title') %>タスク一覧

<%- contentFor('body') %>
    <h1>todo-app</h1>
    <form action="/task" method="get">
        <label for="search">検索</label>
        <input type="text" name="search" id="search" placeholder="タイトルを検索" value="<%= searchText %>">
        <input type="hidden" name="sort" value="<%= sort === 'asc' ? 'asc' : 'desc' %>">
        <input type="hidden" name="task-status" value="<%= delFlg === 1 ? 1 : 0 %>">
        <button type="submit">検索</button>
    </form>
    <div>
        <a href="/task?task-status=0&sort=<%= sort === 'asc' ? 'asc' : 'desc' %><%= searchText !== '' ? `&search=${searchText}` : '' %>">未削除</a>
        <a href="/task?task-status=1&sort=<%= sort === 'asc' ? 'asc' : 'desc' %><%= searchText !== '' ? `&search=${searchText}` : '' %>">削除</a>
    </div>
    <ul>
        <ul class="flex">
            <li>タイトル</li>
            <li>期限<a href="/task?sort=<%= sort === 'asc' ? 'desc' : 'asc' %>&task-status=<%= delFlg === 1 ? 1 : 0 %><%= searchText !== '' ? `&search=${searchText}` : '' %>"><img src="/img/arrow-circle-<%= sort === 'asc' ? 'up' : 'down' %>.svg" alt="ソートアイコン"></a></li>
        </ul>
        <% tasks.forEach(task => { %>
            <ul class="flex">
                <li><a href="/task/detail/<%= task.id %>"><%= task.title %></a></li>
                <li><%= task.deadline %></li>
            </ul>
        <% }) %>
    </ul>
<style>
    .flex{
        display: flex;
    }
    li{
        list-style:none;
    }
</style>